<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Draggable To-Do Items</title>
    <style>
		.container {
			width: 600px;
			height: 400px;
			border: 2px solid #333;
			position: relative;
			display: flex;
			flex-wrap: wrap;
			gap: 10px;
			padding: 10px;
			background-color: #f9f9f9;
		}
		.cube {
			width: 60px;
			height: 60px;
			background-color: #4caf50;
			position: absolute;
			cursor: grab;
			transition: background-color 0.2s ease;
		}

		.cube:active {
			cursor: grabbing;
			background-color: #388e3c;
		}

    </style>
</head>
<body>
	<div class="container" id="container">
		<div class="cube"></div>
		<div class="cube"></div>
		<div class="cube"></div>
		<div class="cube"></div>
	</div>
    </div>
    <script>
		const container = document.getElementById("container");
		const cubes = document.querySelectorAll(".cube");

		let activeCube = null;
		let offsetX = 0;
		let offsetY = 0;
		let containerRect = container.getBoundingClientRect();

// Initial positioning (grid-like)
		cubes.forEach((cube, index) => {
			const col = index % 4;
			const row = Math.floor(index / 4);
			cube.style.left = `${col * 80}px`;
			cube.style.top = `${row * 80}px`;
		});

		cubes.forEach(cube => {
			cube.addEventListener("mousedown", (e) => {
				activeCube = cube;
				const rect = cube.getBoundingClientRect();
				offsetX = e.clientX - rect.left;
				offsetY = e.clientY - rect.top;
				cube.style.zIndex = 1000;
			});
		});

		document.addEventListener("mousemove", (e) => {
			if (!activeCube) return;

			let x = e.clientX - containerRect.left - offsetX;
			let y = e.clientY - containerRect.top - offsetY;

  // Boundary checks
			x = Math.max(0, Math.min(x, container.clientWidth - activeCube.offsetWidth));
			y = Math.max(0, Math.min(y, container.clientHeight - activeCube.offsetHeight));

			activeCube.style.left = `${x}px`;
			activeCube.style.top = `${y}px`;
		});

		document.addEventListener("mouseup", () => {
			if (activeCube) {
				activeCube.style.zIndex = '';
				activeCube = null;
			}
		});

		window.addEventListener("resize", () => {
			containerRect = container.getBoundingClientRect();

		});

    </script>
</body>
</html>